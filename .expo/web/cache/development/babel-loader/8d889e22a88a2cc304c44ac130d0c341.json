{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/valentin/Documents/Proyects/pruebas/ReactNative/CUCEIEats/TEAM-SELLER/screens/BuyScreen.js\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { HeaderButtons, Item } from \"react-navigation-header-buttons\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport HeaderButton from \"../components/HeaderButton\";\nimport BuyList from \"../components/BuyList\";\nimport DefaultText from \"../components/DefaultText\";\nimport * as buyActions from \"../store/actions/buy\";\nimport Colors from \"../constants/Colors\";\n\nvar BuysScreen = function BuysScreen(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var dispatch = useDispatch();\n  var buysItems = useSelector(function (state) {\n    return state.buys.buys;\n  });\n  var email = useSelector(function (state) {\n    return state.auth.userId;\n  });\n  var loadProducts = useCallback(function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setError(null);\n            setIsLoading(true);\n            _context.prev = 2;\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(dispatch(buyActions.fetchBuys(email)));\n\n          case 5:\n            setIsLoading(false);\n            _context.next = 12;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](2);\n            setIsLoading(false);\n            setError(_context.t0.message);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[2, 8]], Promise);\n  }, [dispatch, setIsLoading, setError]);\n  useEffect(function () {\n    var unsubscribe = props.navigation.addListener(\"focus\", loadProducts);\n    return function () {\n      unsubscribe();\n    };\n  }, [loadProducts]);\n  useEffect(function () {\n    dispatch(buyActions.fetchBuys(email));\n  }, []);\n  useEffect(function () {\n    setIsLoading(true);\n    loadProducts().then(function () {\n      setIsLoading(false);\n    });\n  }, [dispatch, loadProducts]);\n\n  if (error) {\n    return React.createElement(View, {\n      style: styles.centered,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }, \"An error occurred!\"), React.createElement(Button, {\n      title: \"Try again\",\n      onPress: loadProducts,\n      color: Colors.primary,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  var handleChange = function handleChange() {\n    loadProducts();\n  };\n\n  if (isLoading) {\n    return React.createElement(View, {\n      style: styles.centered,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }, React.createElement(ActivityIndicator, {\n      size: \"large\",\n      color: Colors.primary,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  if (buysItems.length === 0 || !buysItems) {\n    return React.createElement(View, {\n      style: styles.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }\n    }, React.createElement(DefaultText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }, \"No hay Compras\"));\n  }\n\n  return React.createElement(BuyList, {\n    listData: buysItems,\n    handleChange: handleChange,\n    navigation: props.navigation,\n    order: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }\n  });\n};\n\nexport var screenOptions = function screenOptions(navData) {\n  return {\n    headerTitle: \"Compras\",\n    headerLeft: function headerLeft() {\n      return React.createElement(HeaderButtons, {\n        HeaderButtonComponent: HeaderButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 7\n        }\n      }, React.createElement(Item, {\n        title: \"Menu\",\n        iconName: \"md-menu\",\n        onPress: function onPress() {\n          navData.navigation.toggleDrawer();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 9\n        }\n      }));\n    }\n  };\n};\nvar styles = StyleSheet.create({\n  content: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  }\n});\nexport default BuysScreen;","map":{"version":3,"sources":["/Users/valentin/Documents/Proyects/pruebas/ReactNative/CUCEIEats/TEAM-SELLER/screens/BuyScreen.js"],"names":["React","useState","useEffect","useCallback","HeaderButtons","Item","useSelector","useDispatch","HeaderButton","BuyList","DefaultText","buyActions","Colors","BuysScreen","props","isLoading","setIsLoading","error","setError","dispatch","buysItems","state","buys","email","auth","userId","loadProducts","fetchBuys","message","unsubscribe","navigation","addListener","then","styles","centered","primary","handleChange","length","content","screenOptions","navData","headerTitle","headerLeft","toggleDrawer","StyleSheet","create","flex","justifyContent","alignItems"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,WAArC,QAAwD,OAAxD;;;;;;AAQA,SAASC,aAAT,EAAwBC,IAAxB,QAAoC,iCAApC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,OAAOC,YAAP;AACA,OAAOC,OAAP;AACA,OAAOC,WAAP;AAEA,OAAO,KAAKC,UAAZ;AACA,OAAOC,MAAP;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAW;AAAA,kBACMb,QAAQ,CAAC,KAAD,CADd;AAAA;AAAA,MACrBc,SADqB;AAAA,MACVC,YADU;;AAAA,mBAEFf,QAAQ,CAAC,KAAD,CAFN;AAAA;AAAA,MAErBgB,KAFqB;AAAA,MAEdC,QAFc;;AAI5B,MAAMC,QAAQ,GAAGZ,WAAW,EAA5B;AAEA,MAAMa,SAAS,GAAGd,WAAW,CAAC,UAACe,KAAD;AAAA,WAAWA,KAAK,CAACC,IAAN,CAAWA,IAAtB;AAAA,GAAD,CAA7B;AACA,MAAMC,KAAK,GAAGjB,WAAW,CAAC,UAACe,KAAD;AAAA,WAAWA,KAAK,CAACG,IAAN,CAAWC,MAAtB;AAAA,GAAD,CAAzB;AAEA,MAAMC,YAAY,GAAGvB,WAAW,CAAC;AAAA;AAAA;AAAA;AAAA;AAC/Be,YAAAA,QAAQ,CAAC,IAAD,CAAR;AACAF,YAAAA,YAAY,CAAC,IAAD,CAAZ;AAF+B;AAAA;AAAA,6CAIvBG,QAAQ,CAACR,UAAU,CAACgB,SAAX,CAAqBJ,KAArB,CAAD,CAJe;;AAAA;AAK7BP,YAAAA,YAAY,CAAC,KAAD,CAAZ;AAL6B;AAAA;;AAAA;AAAA;AAAA;AAO7BA,YAAAA,YAAY,CAAC,KAAD,CAAZ;AACAE,YAAAA,QAAQ,CAAC,YAAIU,OAAL,CAAR;;AAR6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,EAU7B,CAACT,QAAD,EAAWH,YAAX,EAAyBE,QAAzB,CAV6B,CAAhC;AAYAhB,EAAAA,SAAS,CAAC,YAAM;AACd,QAAM2B,WAAW,GAAGf,KAAK,CAACgB,UAAN,CAAiBC,WAAjB,CAA6B,OAA7B,EAAsCL,YAAtC,CAApB;AAEA,WAAO,YAAM;AACXG,MAAAA,WAAW;AACZ,KAFD;AAGD,GANQ,EAMN,CAACH,YAAD,CANM,CAAT;AAQAxB,EAAAA,SAAS,CAAC,YAAM;AACdiB,IAAAA,QAAQ,CAACR,UAAU,CAACgB,SAAX,CAAqBJ,KAArB,CAAD,CAAR;AACD,GAFQ,EAEN,EAFM,CAAT;AAIArB,EAAAA,SAAS,CAAC,YAAM;AACdc,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAU,IAAAA,YAAY,GAAGM,IAAf,CAAoB,YAAM;AACxBhB,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KAFD;AAGD,GALQ,EAKN,CAACG,QAAD,EAAWO,YAAX,CALM,CAAT;;AAOA,MAAIT,KAAJ,EAAW;AACT,WACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEgB,MAAM,CAACC,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,EAEE,oBAAC,MAAD;AACE,MAAA,KAAK,EAAC,WADR;AAEE,MAAA,OAAO,EAAER,YAFX;AAGE,MAAA,KAAK,EAAEd,MAAM,CAACuB,OAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF;AAUD;;AAED,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzBV,IAAAA,YAAY;AACb,GAFD;;AAIA,MAAIX,SAAJ,EAAe;AACb,WACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEkB,MAAM,CAACC,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,iBAAD;AAAmB,MAAA,IAAI,EAAC,OAAxB;AAAgC,MAAA,KAAK,EAAEtB,MAAM,CAACuB,OAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AAKD;;AAED,MAAIf,SAAS,CAACiB,MAAV,KAAqB,CAArB,IAA0B,CAACjB,SAA/B,EAA0C;AACxC,WACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEa,MAAM,CAACK,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CADF;AAKD;;AACD,SACE,oBAAC,OAAD;AACE,IAAA,QAAQ,EAAElB,SADZ;AAEE,IAAA,YAAY,EAAEgB,YAFhB;AAGE,IAAA,UAAU,EAAEtB,KAAK,CAACgB,UAHpB;AAIE,IAAA,KAAK,EAAE,KAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAQD,CAhFD;;AAkFA,OAAO,IAAMS,aAAa,GAAG,SAAhBA,aAAgB,CAACC,OAAD,EAAa;AACxC,SAAO;AACLC,IAAAA,WAAW,EAAE,SADR;AAELC,IAAAA,UAAU,EAAE;AAAA,aACV,oBAAC,aAAD;AAAe,QAAA,qBAAqB,EAAElC,YAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AACE,QAAA,KAAK,EAAC,MADR;AAEE,QAAA,QAAQ,EAAC,SAFX;AAGE,QAAA,OAAO,EAAE,mBAAM;AACbgC,UAAAA,OAAO,CAACV,UAAR,CAAmBa,YAAnB;AACD,SALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADU;AAAA;AAFP,GAAP;AAcD,CAfM;AAiBP,IAAMV,MAAM,GAAGW,UAAU,CAACC,MAAX,CAAkB;AAC/BP,EAAAA,OAAO,EAAE;AACPQ,IAAAA,IAAI,EAAE,CADC;AAEPC,IAAAA,cAAc,EAAE,QAFT;AAGPC,IAAAA,UAAU,EAAE;AAHL;AADsB,CAAlB,CAAf;AAQA,eAAenC,UAAf","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport {\n  View,\n  StyleSheet,\n  ActivityIndicator,\n  Text,\n  Button,\n} from \"react-native\";\nimport { HeaderButtons, Item } from \"react-navigation-header-buttons\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport HeaderButton from \"../components/HeaderButton\";\nimport BuyList from \"../components/BuyList\";\nimport DefaultText from \"../components/DefaultText\";\n\nimport * as buyActions from \"../store/actions/buy\";\nimport Colors from \"../constants/Colors\";\n\nconst BuysScreen = (props) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  const dispatch = useDispatch();\n\n  const buysItems = useSelector((state) => state.buys.buys);\n  const email = useSelector((state) => state.auth.userId);\n\n  const loadProducts = useCallback(async () => {\n    setError(null);\n    setIsLoading(true);\n    try {\n      await dispatch(buyActions.fetchBuys(email));\n      setIsLoading(false);\n    } catch (err) {\n      setIsLoading(false);\n      setError(err.message);\n    }\n  }, [dispatch, setIsLoading, setError]);\n\n  useEffect(() => {\n    const unsubscribe = props.navigation.addListener(\"focus\", loadProducts);\n\n    return () => {\n      unsubscribe();\n    };\n  }, [loadProducts]);\n\n  useEffect(() => {\n    dispatch(buyActions.fetchBuys(email));\n  }, []);\n\n  useEffect(() => {\n    setIsLoading(true);\n    loadProducts().then(() => {\n      setIsLoading(false);\n    });\n  }, [dispatch, loadProducts]);\n\n  if (error) {\n    return (\n      <View style={styles.centered}>\n        <Text>An error occurred!</Text>\n        <Button\n          title=\"Try again\"\n          onPress={loadProducts}\n          color={Colors.primary}\n        />\n      </View>\n    );\n  }\n\n  const handleChange = () => {\n    loadProducts();\n  };\n\n  if (isLoading) {\n    return (\n      <View style={styles.centered}>\n        <ActivityIndicator size=\"large\" color={Colors.primary} />\n      </View>\n    );\n  }\n\n  if (buysItems.length === 0 || !buysItems) {\n    return (\n      <View style={styles.content}>\n        <DefaultText>No hay Compras</DefaultText>\n      </View>\n    );\n  }\n  return (\n    <BuyList\n      listData={buysItems}\n      handleChange={handleChange}\n      navigation={props.navigation}\n      order={false}\n    />\n  );\n};\n\nexport const screenOptions = (navData) => {\n  return {\n    headerTitle: \"Compras\",\n    headerLeft: () => (\n      <HeaderButtons HeaderButtonComponent={HeaderButton}>\n        <Item\n          title=\"Menu\"\n          iconName=\"md-menu\"\n          onPress={() => {\n            navData.navigation.toggleDrawer();\n          }}\n        />\n      </HeaderButtons>\n    ),\n  };\n};\n\nconst styles = StyleSheet.create({\n  content: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n});\n\nexport default BuysScreen;\n"]},"metadata":{},"sourceType":"module"}